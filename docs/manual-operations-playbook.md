# 人工操作台账（你在 Windows 执行）

更新时间：2026-02-23

## 1. 文档目的

1. 记录所有需要你人工执行的命令，避免口头遗漏。
2. 每个模块完成后立即停下验证，防止连续开发放大 bug。
3. 形成可追溯的“命令 -> 结果 -> 问题”链路，便于复盘和 review。

## 1.5 当前关联仓库信息

1. 本地目录：`/mnt/e/py/cx回测`
2. 远程仓库：`https://github.com/L1248708823/BackTestByCX.git`
3. 远程名：`origin`

## 2. 使用规则（必须执行）

1. 只要某一步需要你执行命令，必须先写入本台账，再执行。
2. 每个模块结束后必须执行“模块停靠验证清单”。
3. 执行结果（成功/失败 + 关键日志）要回填到 `localDoc/TODO.md`。
4. 助手不会在未记录命令含义的情况下要求你直接运行。

## 3. 命令标记规范

1. `【你执行】`：需要你在 Windows 终端执行。
2. `【助手执行】`：由助手在当前工作区执行（不需要你操作）。
3. `【验证】`：用于确认本模块是否通过。

## 4. 模块停靠验证清单（每个模块必走）

1. 功能是否按预期完成（是/否）。
2. 核心命令是否执行成功（是/否）。
3. 是否有告警或异常日志（有/无）。
4. 是否更新了文档与 TODO（是/否）。
5. 是否允许进入下一模块（你确认）。

---

## 5. 模块 A：Monorepo 骨架（讨论期命令清单）

说明：当前阶段先讨论并固化方案，尚未开始安装依赖与初始化代码。  
以下命令用于“开始模块 A 时”的第一轮环境确认。

| 步骤 | 执行方 | 命令 | 作用说明 | 预期结果 | 失败时先看什么 |
| --- | --- | --- | --- | --- | --- |
| A1 | 你执行 | `node -v` | 检查 Node.js 是否可用 | 输出 Node 版本号（建议 LTS） | Node 未安装或 PATH 未生效 |
| A2 | 你执行 | `pnpm -v` | 检查 pnpm 是否可用 | 输出 pnpm 版本（建议 9.x） | pnpm 未安装或 corepack 未启用 |
| A3 | 你执行 | `python --version` | 检查 Python 版本 | 输出 3.11/3.12 | Python 路径错误或未安装 |
| A4 | 你执行 | `git --version` | 检查 Git 是否可用 | 输出 Git 版本号 | Git 未安装 |

> 备注：A1-A4 通过后，才进入 Monorepo 文件初始化步骤。

---

## 5.5 仓库关联与校验（已执行）

| 步骤 | 执行方 | 命令 | 作用说明 | 预期结果 | 失败时先看什么 |
| --- | --- | --- | --- | --- | --- |
| G1 | 助手执行 | `git init -b main` | 初始化本地 Git 仓库 | 生成 `.git` 目录 | 当前目录权限与路径 |
| G2 | 助手执行 | `git remote add origin <repo-url>` | 绑定远程仓库 | `origin` 出现在远程列表 | 远程名重复或 URL 写错 |
| G3 | 你执行 | `git remote -v` | 校验远程是否关联正确 | fetch/push 均指向目标仓库 | 当前目录不是仓库 |
| G4 | 你执行 | `git status --short` | 查看当前未跟踪/变更文件 | 出现待提交文件列表 | 不在项目根目录执行 |

> 关键提醒：仅绑定远程还不具备“可回滚历史”，至少要完成一次提交。

| G5 | 你执行 | `git config user.name "<你的名字>"` | 配置提交用户名 | 无报错 | 名字包含特殊字符时引号 |
| G6 | 你执行 | `git config user.email "<你的邮箱>"` | 配置提交邮箱 | 无报错 | 邮箱格式或输入错误 |
| G7 | 你执行 | `git add .` | 暂存当前文件用于首次提交 | 无报错 | 注意先确认 `.gitignore` 已生效 |
| G7.1 | 你执行 | `git status --short` | 二次确认暂存内容正确 | 不应出现 `.codex/`、`localDoc/` | `.gitignore` 未生效或路径写错 |
| G8 | 你执行 | `git commit -m "chore: initialize project docs and architecture"` | 生成首个提交快照 | 输出 commit hash | 用户信息未配置或无暂存变更 |
| G9 | 你执行 | `git push -u origin main` | 推送到远程并建立上游分支 | push 成功 | 网络、权限、仓库访问权限 |

---

## 6. 模块 A 完成后的验证命令（预留）

当我们正式创建 Monorepo 骨架后，再补充如下命令：

1. `【你执行】pnpm install`
2. `【你执行】pnpm turbo run lint`
3. `【你执行】pnpm turbo run build`
4. `【你执行】pnpm turbo run test`

每条命令会在补充时写明作用、预期输出、失败排查。

---

## 7. 回填模板（复制到 TODO 或评论）

```text
模块：
执行日期：
命令：
结果：
关键日志：
是否通过：
阻塞点：
```
